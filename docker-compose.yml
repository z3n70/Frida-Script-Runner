services:
  frida-script-runner:
    build: .
    ports:
      - "5000:5000"
    volumes:
      - ./scripts:/app/scripts
      - ./frida-gadget:/app/frida-gadget
      - ./tmp:/app/tmp
      - ./frida-server:/app/frida-server
      - ./temp_generated.js:/app/temp_generated.js
    environment:
      - FLASK_ENV=production
      - ADB_SERVER_SOCKET=tcp:host.docker.internal:5037
    extra_hosts:
      - "host.docker.internal:host-gateway"
    restart: unless-stopped
